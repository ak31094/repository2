<!DOCTYPE html>
<html>
  <head>
    <title>instagram</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      #map-canvas1 {
        position: absolute;
        height: 60%;
        width: 50%;
        left: 30%;
        top: 195px;
        border-radius: 20px;
      }

      #map-canvas2 {
        height: 60%;
        position: absolute;
        width: 50%;
        left:30%;
        top: 695px;
        border-radius: 20px;
      }

      #map-canvas3 {
        height: 60%;
        position: absolute;
        width: 50%;
        left:30%;
        top: 1195px;
        border-radius: 20px;
      }

      #map-canvas4 {
        height: 60%;
        position: absolute;
        width: 50%;
        left:30%;
        top: 1695px;
        border-radius: 20px;
      }

      #map-canvas5 {
        height: 60%;
        position: absolute;
        width: 50%;
        left:30%;
        top: 2195px;
        border-radius: 20px;
      }

      #map-canvas6 {
        height: 60%;
        position: absolute;
        width: 50%;
        left:30%;
        top: 2695px;
        border-radius: 20px;
      }
      

      @import url(http://fonts.googleapis.com/css?family=Lobster);
      h1 {
        position: absolute;
        font-family: 'Lobster', cursive;
        text-align: center;
        background-size: 400px;
        color: white;
        font-size: 85px;
        font-style: bold;
        margin-top: 0px;
        margin-bottom: 0px;
        border-radius: 50px;
        left: 35%;

      }

      body {
        background-image: url("http://wallpaperpc.net/wp-content/uploads/2014/05/desktop-background-new-york-6.jpg");
        background-repeat: no-repeat;
        background-position:left bottom;
        background-size: 100% 100%;
        background-attachment: fixed;
      
      }

      h2 {
        position: absolute;
        left: 61%;
        top: 12%;
        font-family: sans-serif;
        color: white;
        font-weight: normal;
        
      }

      #map1 {
        position: absolute;
        left: 46.5%;
        top: 150px;
        font-family: sans-serif;
        color: white;
        font-weight: normal;
      }

      #map2 {
        position: absolute;
        left: 49%;
        top: 650px;
        font-family: sans-serif;
        color: white;
        font-weight: normal;
      }

      #map3 {
        position: absolute;
        left: 49%;
        top: 1150px;
        font-family: sans-serif;
        color: white;
        font-weight: normal;
      }

      #map4 {
        position: absolute;
        left: 49%;
        top: 1650px;
        font-family: sans-serif;
        color: white;
        font-weight: normal;
      }

      #map5 {
        position: absolute;
        left: 46.5%;
        top: 2150px;
        font-family: sans-serif;
        color: white;
        font-weight: normal;
      }

      #map6 {
        position: absolute;
        left: 46.5%;
        top: 2650px;
        font-family: sans-serif;
        color: white;
        font-weight: normal;
      }
      
      #graph {
        position: absolute;
        left: 48%;
        top: 3150px;
        font-family: sans-serif;
        color: white;
        font-weight: normal;
      }

    </style>
    
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>

    <script>
    // var counter1 = 0;
    // var counter2 = 0;
    // var counter3 = 0;
    // var counter4 = 0;
    // var counter5 = 0;
    // var counter6 = 0;

    
    //var counter1 = 0;

    $(document).ready(function(){
      $.getJSON('http://cooper-union-instagram-proxy.herokuapp.com/search/tag/washingtonsquarepark', function(response){
        var image = [];
        var locationLat = [];
        var locationLong = [];
        var text = [];
        //var window.counter1 = 0;
        var counter1 = 0;
        
        //if the location is not null, then create these variables 
        for(var i=0; i<response.length; i++) {
          if(response[i].location != null){
            image[i] = response[i].images.thumbnail.url;
            locationLat[i] = response[i].location.latitude;
            locationLong[i] = response[i].location.longitude;
            text[i]=response[i].caption.text;
            counter1 = i++;
            }
        }
        
        console.log("Counter 1 =" + counter1)
        

        var drawImg = function(img,lat,longi){
          var map;
          var initialize = function(){
          var mapOptions = {
            zoom: 18,
            center: new google.maps.LatLng(40.7309103, -73.9974781)
          };
          var map = new google.maps.Map(document.getElementById('map-canvas1'),
              mapOptions);
          var myLatlng = new google.maps.LatLng(40.7293, -73.9906);

          var position = [];
          var marker = [];
          
          //looping through each picture with a position
          for(var i=0; i<img.length; i++){
            position[i] = new google.maps.LatLng(lat[i], longi[i]);
            var markerOptions = {
                position: position[i],
                draggable: true,
                map: map,
                icon: img[i],
                title: response[i].caption.text,
                animation: google.maps.Animation.DROP,
            
            };
            // To add the marker to the map, use the 'map' property
            marker[i] = new google.maps.Marker(markerOptions);
          };

          };

        initialize();
        //google.maps.event.addDomListener(window, 'load', initialize);


      };  
      console.log("Counter 1 =" + counter1); 
      drawImg(image,locationLat,locationLong);

      
    });


  
  });
  

      
      //var counter2 = 0;

      $(document).ready(function(){
      $.getJSON('http://cooper-union-instagram-proxy.herokuapp.com/search/tag/timesquare', function(response){
        var image = [];
        var locationLat = [];
        var locationLong = [];
        //var window.counter2 = 0;
        var counter2 = 0;
        
        for(var i=0; i<response.length; i++) {
          if(response[i].location != null){
            image[i] = response[i].images.thumbnail.url;
            locationLat[i] = response[i].location.latitude;
            locationLong[i] = response[i].location.longitude;
            counter2 = i++;
            }
        }
        console.log("Counter 2 =" + counter2)
        
        var drawImg = function(img,lat,longi){
          var map;
          var initialize = function(){
          var mapOptions = {
            zoom: 18,
            center: new google.maps.LatLng(40.7589008, -73.985135)
          };
          var map = new google.maps.Map(document.getElementById('map-canvas2'),
              mapOptions);
          var myLatlng = new google.maps.LatLng(40.7293, -73.9906);

          var position = [];
          var marker = [];
          
          //looping through each picture with a position
          for(var i=0; i<img.length; i++){
            position[i] = new google.maps.LatLng(lat[i], longi[i]);
            var markerOptions = {
                position: position[i],
                draggable: true,
                map: map,
                icon: img[i],
                title: response[i].caption.text,
                animation: google.maps.Animation.DROP,

            };
            // To add the marker to the map, use the 'map' property
            marker[i] = new google.maps.Marker(markerOptions);
          };

          };

        initialize();
        //google.maps.event.addDomListener(window, 'load', initialize);

      };  

      drawImg(image,locationLat,locationLong); 
    });
  });
    
    

      //var counter3 = 0;

      $(document).ready(function(){
      $.getJSON('http://cooper-union-instagram-proxy.herokuapp.com/search/tag/unionsquarepark', function(response){
        var image = [];
        var locationLat = [];
        var locationLong = [];
        //window.counter3 = 0;
        var counter3 = 0;        

        for(var i=0; i<response.length; i++) {
          if(response[i].location != null){
            image[i] = response[i].images.thumbnail.url;
            locationLat[i] = response[i].location.latitude;
            locationLong[i] = response[i].location.longitude;
            counter3 = i++;
            }
        }
        
        console.log("Counter 3 =" + counter3)
        
        var drawImg = function(img,lat,longi){
          var map;
          var initialize = function(){
          var mapOptions = {
            zoom: 18,
            center: new google.maps.LatLng(40.7358245, -73.9904132)
          };
          var map = new google.maps.Map(document.getElementById('map-canvas3'),
              mapOptions);
          var myLatlng = new google.maps.LatLng(40.7293, -73.9906);

          var position = [];
          var marker = [];
          
          //looping through each picture with a position
          for(var i=0; i<img.length; i++){
            position[i] = new google.maps.LatLng(lat[i], longi[i]);
            var markerOptions = {
                position: position[i],
                draggable: true,
                map: map,
                icon: img[i],
                title: response[i].caption.text,
                animation: google.maps.Animation.DROP,

            };
            // To add the marker to the map, use the 'map' property
            marker[i] = new google.maps.Marker(markerOptions);
          };

          };

        initialize();
        //google.maps.event.addDomListener(window, 'load', initialize);

      };  

      drawImg(image,locationLat,locationLong); 
    });
  });

      
      //var counter4 = 0;

      $(document).ready(function(){
      $.getJSON('http://cooper-union-instagram-proxy.herokuapp.com/search/tag/centralpark', function(response){
        var image = [];
        var locationLat = [];
        var locationLong = [];
        //window.counter4 = 0;
        var counter4 = 0;

        for(var i=0; i<response.length; i++) {
          if(response[i].location != null){
            image[i] = response[i].images.thumbnail.url;
            locationLat[i] = response[i].location.latitude;
            locationLong[i] = response[i].location.longitude;
            counter4 = i++;
            }
        }
        
        console.log("Counter 4=" + counter4)
        
        var drawImg = function(img,lat,longi){
          var map;
          var initialize = function(){
          var mapOptions = {
            zoom: 15,
            center: new google.maps.LatLng(40.7781774, -73.9697002)
          };
          var map = new google.maps.Map(document.getElementById('map-canvas4'),
              mapOptions);
          var myLatlng = new google.maps.LatLng(40.7293, -73.9906);

          var position = [];
          var marker = [];
          
          //looping through each picture with a position
          for(var i=0; i<img.length; i++){
            position[i] = new google.maps.LatLng(lat[i], longi[i]);
            var markerOptions = {
                position: position[i],
                draggable: true,
                map: map,
                icon: img[i],
                title: response[i].caption.text,
                animation: google.maps.Animation.DROP,

            };
            // To add the marker to the map, use the 'map' property
            marker[i] = new google.maps.Marker(markerOptions);
          };

          };

        initialize();
        //google.maps.event.addDomListener(window, 'load', initialize);

      };  

      drawImg(image,locationLat,locationLong); 
    });
  });


      //var counter5 = 0;

      $(document).ready(function(){
      $.getJSON('http://cooper-union-instagram-proxy.herokuapp.com/search/tag/madisonsquaregarden', function(response){
        var image = [];
        var locationLat = [];
        var locationLong = [];
        //window.counter5 = 0;
        var counter5 = 0;

        for(var i=0; i<response.length; i++) {
          if(response[i].location != null){
            image[i] = response[i].images.thumbnail.url;
            locationLat[i] = response[i].location.latitude;
            locationLong[i] = response[i].location.longitude;
            counter5 = i++;
            }
        }
        
        console.log("Counter 5 =" + counter5)
        
        var drawImg = function(img,lat,longi){
          var map;
          var initialize = function(){
          var mapOptions = {
            zoom: 18,
            center: new google.maps.LatLng(40.7505101, -73.9936402)
          };
          var map = new google.maps.Map(document.getElementById('map-canvas5'),
              mapOptions);
          var myLatlng = new google.maps.LatLng(40.7293, -73.9906);

          var position = [];
          var marker = [];
          
          //looping through each picture with a position
          for(var i=0; i<img.length; i++){
            position[i] = new google.maps.LatLng(lat[i], longi[i]);
            var markerOptions = {
                position: position[i],
                draggable: true,
                map: map,
                icon: img[i],
                title: response[i].caption.text,
                animation: google.maps.Animation.DROP,

            };
            // To add the marker to the map, use the 'map' property
            marker[i] = new google.maps.Marker(markerOptions);
          };

          };

        initialize();
        //google.maps.event.addDomListener(window, 'load', initialize);

      };  

      drawImg(image,locationLat,locationLong); 
    });
  });



      //var counter6 = 0;

      $(document).ready(function(){
      $.getJSON('http://cooper-union-instagram-proxy.herokuapp.com/search/tag/grandcentral', function(response){
        var image = [];
        var locationLat = [];
        var locationLong = [];
        //window.counter6 = 0;
        var counter6 = 0;

        for(var i=0; i<response.length; i++) {
          if(response[i].location != null){
            image[i] = response[i].images.thumbnail.url;
            locationLat[i] = response[i].location.latitude;
            locationLong[i] = response[i].location.longitude;
            counter6 = i++;
            }
        }
        
        console.log("Counter 6 =" + counter6)
        
        var drawImg = function(img,lat,longi){
          var map;
          var initialize = function(){
          var mapOptions = {
            zoom: 19,
            center: new google.maps.LatLng(40.752726, -73.977229)
          };
          var map = new google.maps.Map(document.getElementById('map-canvas6'),
              mapOptions);
          var myLatlng = new google.maps.LatLng(40.7293, -73.9906);

          var position = [];
          var marker = [];
          
          //looping through each picture with a position
          for(var i=0; i<img.length; i++){
            position[i] = new google.maps.LatLng(lat[i], longi[i]);
            var markerOptions = {
                position: position[i],
                draggable: true,
                map: map,
                icon: img[i],
                title: response[i].caption.text,
                animation: google.maps.Animation.DROP,

            };
            // To add the marker to the map, use the 'map' property
            marker[i] = new google.maps.Marker(markerOptions);
          };

          };

        initialize();
        //google.maps.event.addDomListener(window, 'load', initialize);

      };  

      drawImg(image,locationLat,locationLong); 
    });
  });
        


        $(document).ready(function () {
      
        $.getJSON('http://cooper-union-instagram-proxy.herokuapp.com/search/tag/nyc?count=10000000000', function(photos){
          var washsq = 0;
          var timesq = 0;
          var unionsq = 0;
          var centralpk = 0;
          var msg = 0;
          var grandcentral = 0;
          //var other = 0;

          for(i in photos) {
            console.log(photos[i].tags);
            for(j in photos[i].tags) {
              // var washsq = 7;
              // var timesq = 6;
              // var unionsq = 4;
              // var centralpk = 3;
              // var msg = 4;
              // var grandcentral = 5;

              if(photos[i].tags[j].toLowerCase() === ("washingtonsquarepark" || "washsq" || "arch" || "washintonsquare" || "washsqpark" || "washsqpk")) {
                //var washsq=0;
                washsq++;
              }
              if(photos[i].tags[j].toLowerCase() === ("timessquare" || "timesquare" || "timessq" || "timesq" || "42ndstreet" || "42st" || "42ndstr" || "42ndst" || "42nd" || "42st")) {
                //var timesq = 0;
                timesq++;
              }
              if(photos[i].tags[j].toLowerCase() === ("washingtonsquarepark" || "wsp" || "washsqpark" || "washsqpk")) {
                //var unionsq = 0;
                unionsq++;
              }
              if(photos[i].tags[j].toLowerCase() === ("centralpark" || "centralpk" || "centralprk" || "centralp")) {
                //var centralpk = 0;
                centralpk++;
              }
              if(photos[i].tags[j].toLowerCase() === ("madisonsquaregarden" || "msg" || "themecca" || "madisonsqgarden" || "thegarden" || "madisonsqg" || "madisonsquare")) {
                //var msg = 0
                msg++;
              }
              if(photos[i].tags[j].toLowerCase() === ("grandcentral" || "grancentralterminal" || "grandcentralterm" || "grandcentralstation" || "grandcentralst")) {
                //var grandcentral = 0;
                grandcentral++;
              }
            }
          }
          console.log("wash sq =" + washsq)
          console.log("times sq =" + timesq)
          console.log("union sq =" + unionsq)
          console.log("central park =" + centralpk)
          console.log("msg =" + msg)
          console.log("grandcentral =" + grandcentral)

          var data = [
            ['Washington Square Park', washsq],
            ['Times Square', timesq],
            ['Union Square', unionsq],
            ['Central Park', centralpk],
            ['Madison Square Garden', msg],
            ['Grand Central', grandcentral],
          ]
          
                $('#container').highcharts({
                      chart: {
                          plotBackgroundColor: null,
                          plotBorderWidth: 1,//null,
                          plotShadow: false
                      },
                      title: {
                          text: 'Percentage of Recent NYC Tagged Instagram Photos Associated with the Different Locations'
                      },
                      tooltip: {
                          pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                      },
                      plotOptions: {
                          pie: {
                              allowPointSelect: true,
                              cursor: 'pointer',
                              dataLabels: {
                                  enabled: true,
                                  format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                  style: {
                                      color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                  }
                              }
                          }
                      },
                      series: [{
                          type: 'pie',
                          name: 'Share',
                          data: data
                      }]
                  });
              });
            });



      



    </script>



  </head>


  <body>
    <h1>GoogStagram</h1>
    <h2>a Google + Instagram project</h2>
    <br></br>


    <h3 id="map1">Washington Square Park!</h3>
    <div id="map-canvas1"></div>
    <br></br>
    
    <h3 id="map2">Times Square!</h3>
    <div id="map-canvas2"></div>
    <br></br>
    
    <h3 id="map3">Union Square!</h3>
    <div id="map-canvas3"></div>
    <br></br>
    
    <h3 id="map4">Central Park!</h3>
    <div id="map-canvas4"></div>
    <br></br>

    <h3 id="map5">Madison Square Garden!</h3>
    <div id="map-canvas5"></div>
    <br></br>
    
    <h3 id="map6">Grand Central Terminal!</h3>
    <div id="map-canvas6"></div>
    <br></br>
    
    <h3 id="graph">Comparative Graph</h3>
    <div id="container" style="height=400px; width: 50%; position: absolute; left: 30%; top: 3195px; opacity: 0.8; border-radius: 20px"></div> 




  </body>
</html>